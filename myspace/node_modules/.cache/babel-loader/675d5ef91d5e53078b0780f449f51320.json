{"ast":null,"code":"import ContentBase from '../components/ContentBase';\nexport default {\n  name: 'ChessView',\n  components: {\n    ContentBase\n  },\n\n  data() {\n    return {\n      elapsedTime: 0,\n      formattedTime: '0 小时 0 分钟 0 秒',\n      chessPieceColor: 1,\n      chessPieces: [],\n      timedelta: 0\n    };\n  },\n\n  created() {\n    this.startTimer();\n  },\n\n  methods: {\n    startTimer() {\n      this.timedelta = 1;\n      setInterval(() => {\n        this.elapsedTime += this.timedelta;\n        this.formatTime();\n      }, 1000);\n    },\n\n    formatTime() {\n      const hours = Math.floor(this.elapsedTime / 3600);\n      const minutes = Math.floor(this.elapsedTime % 3600 / 60);\n      const seconds = this.elapsedTime % 60;\n      this.formattedTime = `${hours} 小时 ${minutes} 分钟 ${seconds} 秒`;\n    },\n\n    stopTime() {\n      this.timedelta = 0;\n    },\n\n    startNewGame() {\n      this.elapsedTime = 0;\n      this.timedelta = 1;\n      this.formattedTime = '0 小时 0 分钟 0 秒';\n      this.chessPieces = [];\n    },\n\n    exitGame() {\n      this.$router.push('chesslist');\n    },\n\n    placeChessPiece(event) {\n      // Calculate the position relative to the image\n      const imgRect = event.target.getBoundingClientRect();\n      const x = event.clientX - imgRect.left + 89;\n      const y = event.clientY - imgRect.top; // Check if the click is within the bounds of the chessboard image\n\n      const chessboardWidth = imgRect.width;\n      const chessboardHeight = imgRect.height;\n      const chessPieceSize = 2; // Adjust the size of the chess piece as needed\n\n      if (x >= 0 && x <= chessboardWidth && y >= 0 && y <= chessboardHeight) {\n        // Adjust to place the center of the chess piece at the click position\n        const adjustedX = x - chessPieceSize / 2;\n        const adjustedY = y - chessPieceSize / 2; // Create a new chess piece and add it to the array\n\n        this.chessPieces.push({\n          number: this.chessPieces.length + 1,\n          // Assign a number starting from 1\n          color: this.chessPieceColor,\n          style: {\n            position: 'absolute',\n            left: `${adjustedX}px`,\n            top: `${adjustedY}px`,\n            width: `${chessPieceSize}rem`,\n            height: `${chessPieceSize}rem`,\n            transform: 'translate(-50%, -50%)',\n            // Center the chess piece\n            color: this.chessPieceColor === 1 ? 'white' : 'black' // Set text color based on the piece's color\n\n          }\n        }); // Toggle the chess piece color for the next click\n\n        this.chessPieceColor = this.chessPieceColor === 1 ? 2 : 1;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["ContentBase","name","components","data","elapsedTime","formattedTime","chessPieceColor","chessPieces","timedelta","created","startTimer","methods","setInterval","formatTime","hours","Math","floor","minutes","seconds","stopTime","startNewGame","exitGame","$router","push","placeChessPiece","event","imgRect","target","getBoundingClientRect","x","clientX","left","y","clientY","top","chessboardWidth","width","chessboardHeight","height","chessPieceSize","adjustedX","adjustedY","number","length","color","style","position","transform"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\chess\\myspace\\src\\views\\ChessView.vue"],"sourcesContent":["<template>\r\n  <ContentBase>\r\n    <p>棋局</p>\r\n\r\n    <div class=\"card-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-7 img-field\" style=\"position: relative;\" @click=\"placeChessPiece\">\r\n          <!-- Keep the chess image -->\r\n          <img src=\"../../public/chess.jpg\" alt=\"\" style=\"width: 80%; height: auto;\">\r\n\r\n          <!-- Position the chess pieces using absolute positioning -->\r\n          <div\r\n            v-for=\"(chessPiece, index) in chessPieces\"\r\n            :key=\"index\"\r\n            :style=\"chessPiece.style\"\r\n            class=\"chess-piece\"\r\n            :class=\"{ 'black-piece': index % 2 === 0, 'white-piece': index % 2 !== 0 }\"\r\n          >\r\n            {{ chessPiece.number }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-2\">\r\n           <div class=\"card\">\r\n            <button type=\"button\" class=\"btn btn-outline-primary\" @click=\"startNewGame\">重新记录棋局</button>\r\n          </div>\r\n          <p></p>\r\n          <div class=\"card\">\r\n            <button type=\"button\" class=\"btn btn-warning\" @click=\"stopTime\">保存当前记录</button>\r\n          </div><p></p>\r\n          <div class=\"card\">\r\n            <select class=\"form-select\" aria-label=\"Disabled select example\">\r\n              <option selected>先手棋子颜色</option>\r\n              <option value=\"1\">黑子先手</option>\r\n              <option value=\"2\">白子先手</option>\r\n            </select>\r\n          </div>\r\n          <p></p>\r\n          <div class=\"card\">\r\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"exitGame\">退出棋局</button>\r\n          </div>\r\n          <p></p>\r\n          <div class=\"card\">\r\n            <p class=\"fs-4\">时间：</p>\r\n            <p class=\"fs-5\">{{ formattedTime }}</p>\r\n          </div>\r\n          <p></p>\r\n          <div class=\"card\">\r\n              <p class=\"fs-5\">本局监督记录人员id：CC</p>\r\n          </div>\r\n          \r\n          <p></p>\r\n          <div class=\"card\">\r\n            <select v-model=\"chessPieceColor\" class=\"form-select\" aria-label=\"Disabled select example\">\r\n              <option selected>选择执子棋子颜色</option>\r\n              <option value=\"1\">黑子执子</option>\r\n              <option value=\"2\">白子执子</option>\r\n            </select>\r\n          </div>\r\n          <p>\r\n        \r\n          </p>\r\n          <div class=\"card\">\r\n          <div class=\"form-floating\">\r\n  <textarea class=\"form-control\" placeholder=\"Leave a comment here\" id=\"floatingTextarea2\" style=\"height: 100px\"></textarea>\r\n  <label for=\"floatingTextarea2\">备注</label>\r\n</div>\r\n</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ContentBase>\r\n</template>\r\n\r\n<script>\r\nimport ContentBase from '../components/ContentBase';\r\n\r\nexport default {\r\n  name: 'ChessView',\r\n  components: {\r\n    ContentBase,\r\n  },\r\n  data() {\r\n    return {\r\n      elapsedTime: 0,\r\n      formattedTime: '0 小时 0 分钟 0 秒',\r\n      chessPieceColor: 1,\r\n      chessPieces: [],\r\n      timedelta: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.startTimer();\r\n  },\r\n  methods: {\r\n    startTimer() {\r\n      this.timedelta = 1;\r\n      setInterval(() => {\r\n        this.elapsedTime += this.timedelta;\r\n        this.formatTime();\r\n      }, 1000);\r\n    },\r\n    formatTime() {\r\n      const hours = Math.floor(this.elapsedTime / 3600);\r\n      const minutes = Math.floor((this.elapsedTime % 3600) / 60);\r\n      const seconds = this.elapsedTime % 60;\r\n\r\n      this.formattedTime = `${hours} 小时 ${minutes} 分钟 ${seconds} 秒`;\r\n    },\r\n    stopTime(){\r\n      this.timedelta = 0;\r\n    },\r\n    startNewGame() {\r\n  this.elapsedTime = 0;\r\n  this.timedelta = 1;\r\n  this.formattedTime = '0 小时 0 分钟 0 秒';\r\n\r\n    this.chessPieces = [];\r\n},\r\n\r\n    exitGame() {\r\n      this.$router.push('chesslist');\r\n    },\r\n    placeChessPiece(event) {\r\n      // Calculate the position relative to the image\r\n      const imgRect = event.target.getBoundingClientRect();\r\n      const x = event.clientX - imgRect.left + 89;\r\n      const y = event.clientY - imgRect.top;\r\n\r\n      // Check if the click is within the bounds of the chessboard image\r\n      const chessboardWidth = imgRect.width;\r\n      const chessboardHeight = imgRect.height;\r\n      const chessPieceSize = 2; // Adjust the size of the chess piece as needed\r\n\r\n      if (x >= 0 && x <= chessboardWidth && y >= 0 && y <= chessboardHeight) {\r\n        // Adjust to place the center of the chess piece at the click position\r\n        const adjustedX = x - chessPieceSize / 2;\r\n        const adjustedY = y - chessPieceSize / 2;\r\n\r\n        // Create a new chess piece and add it to the array\r\n        this.chessPieces.push({\r\n          number: this.chessPieces.length + 1, // Assign a number starting from 1\r\n          color: this.chessPieceColor,\r\n          style: {\r\n            position: 'absolute',\r\n            left: `${adjustedX}px`,\r\n            top: `${adjustedY}px`,\r\n            width: `${chessPieceSize}rem`,\r\n            height: `${chessPieceSize}rem`,\r\n            transform: 'translate(-50%, -50%)', // Center the chess piece\r\n            color: this.chessPieceColor === 1 ? 'white' : 'black', // Set text color based on the piece's color\r\n          },\r\n        });\r\n\r\n        // Toggle the chess piece color for the next click\r\n        this.chessPieceColor = this.chessPieceColor === 1 ? 2 : 1;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.img-field {\r\n  position: relative;\r\n}\r\n\r\n.chess-piece {\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1rem;\r\n}\r\n\r\n.black-piece {\r\n  background-color: black;\r\n  color: white;\r\n  /* Add other styles for the black piece as needed */\r\n}\r\n\r\n.white-piece {\r\n  background-color: white;\r\n  color: black;\r\n  /* Add other styles for the white piece as needed */\r\n}\r\n\r\n#floatingTextarea2{\r\n  background-color: rgba(240,248,255,0.6);\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}