{"ast":null,"code":"import ContentBase from '../components/ContentBase';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport router from '@/router/index';\nexport default {\n  name: 'LoginView',\n  components: {\n    ContentBase\n  },\n\n  setup() {\n    const store = useStore();\n    let username = ref('');\n    let password = ref('');\n    let error_message = ref('');\n\n    const login = () => {\n      error_message.value = \"\"; //console.log(username.value,password.value);\n\n      store.dispatch(\"login\", {\n        username: username.value,\n        password: password.value,\n\n        success() {\n          //console.log(\"success\");\n          router.push({\n            name: 'userlist'\n          });\n        },\n\n        error() {\n          //console.log(\"failed\");\n          error_message.value = \"用户名或密码错误\";\n        }\n\n      });\n    };\n\n    return {\n      username,\n      password,\n      error_message,\n      login\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA2BA,OAAOA,WAAP,MAAwB,2BAAxB;AACA,SAASC,GAAT,QAAmB,KAAnB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAGA,eAAe;EACbC,IAAI,EAAE,WADO;EAEbC,UAAU,EAAE;IACVL;EADU,CAFC;;EAKbM,KAAK,GAAE;IAEL,MAAMC,KAAK,GAACL,QAAQ,EAApB;IACA,IAAIM,QAAQ,GAACP,GAAG,CAAC,EAAD,CAAhB;IACA,IAAIQ,QAAQ,GAACR,GAAG,CAAC,EAAD,CAAhB;IACA,IAAIS,aAAa,GAACT,GAAG,CAAC,EAAD,CAArB;;IACA,MAAMU,KAAI,GAAG,MAAI;MACfD,aAAa,CAACE,KAAd,GAAoB,EAApB,CADe,CAEf;;MACAL,KAAK,CAACM,QAAN,CAAe,OAAf,EAAuB;QACrBL,QAAQ,EAACA,QAAQ,CAACI,KADG;QAErBH,QAAQ,EAACA,QAAQ,CAACG,KAFG;;QAGrBE,OAAO,GAAE;UACP;UACAX,MAAM,CAACY,IAAP,CAAY;YAACX,IAAI,EAAC;UAAN,CAAZ;QACD,CANoB;;QAMnBY,KAAK,GAAE;UACP;UACAN,aAAa,CAACE,KAAd,GAAoB,UAApB;QACF;;MATqB,CAAvB;IAWD,CAdD;;IAgBA,OAAM;MACJJ,QADI;MAEJC,QAFI;MAGJC,aAHI;MAIJC;IAJI,CAAN;EAMF;;AAjCa,CAAf","names":["ContentBase","ref","useStore","router","name","components","setup","store","username","password","error_message","login","value","dispatch","success","push","error"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\chess\\myspace\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n \r\n<ContentBase>\r\n  <div class=\"row justify-content-md-center\">\r\n    <div class=\"col-3\">\r\n      <form @submit.prevent=\"login\">\r\n  <div class=\"mb-3\">\r\n    <label for=\"username\" class=\"form-label\">用户名</label>\r\n    <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"username\">\r\n  </div>\r\n  <div class=\"mb-3\">\r\n    <label for=\"password\" class=\"form-label\">密码</label>\r\n    <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\">\r\n  </div>\r\n  <div class=\"error-message\">{{error_message}}</div>\r\n  <button type=\"submit\" class=\"btn btn-primary\">登录</button>\r\n</form>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</ContentBase>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport ContentBase from '../components/ContentBase';\r\nimport { ref} from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport router from '@/router/index';\r\n\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  components: {\r\n    ContentBase,\r\n  },\r\n  setup(){\r\n\r\n    const store=useStore();\r\n    let username=ref('');\r\n    let password=ref('');\r\n    let error_message=ref('');\r\n    const login =()=>{\r\n      error_message.value=\"\";\r\n      //console.log(username.value,password.value);\r\n      store.dispatch(\"login\",{\r\n        username:username.value,\r\n        password:password.value,\r\n        success(){\r\n          //console.log(\"success\");\r\n          router.push({name:'userlist'});\r\n        },error(){\r\n          //console.log(\"failed\");\r\n          error_message.value=\"用户名或密码错误\";\r\n        }\r\n      });\r\n    };\r\n    \r\n    return{\r\n      username,\r\n      password,\r\n      error_message,\r\n      login,\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n<style scoped>\r\nbutton{\r\n  width:100%\r\n}\r\n.error-message{\r\n  color:red;\r\n  font-size:17px;\r\n  padding:2px,2px;\r\n}\r\nimg{\r\n  border-radius: 50%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}