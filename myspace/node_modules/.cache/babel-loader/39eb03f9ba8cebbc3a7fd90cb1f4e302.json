{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5c47392c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-3 img-field\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"col-9\"\n};\nconst _hoisted_7 = {\n  class: \"username\"\n};\nconst _hoisted_8 = {\n  class: \"fans,fw-lighter\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-danger btn-sm\"\n}, \"发消息\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    class: \"img-fluid\",\n    src: $props.user.photo,\n    alt: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.user.username), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_8, \"被监督局数:\" + _toDisplayString($props.user.followerCount), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", null, [!$props.user.is_followed ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.follow && $setup.follow(...args)),\n    type: \"button\",\n    class: \"btn btn-primary btn-sm\"\n  }, \"+监督\")) : _createCommentVNode(\"v-if\", true), $props.user.is_followed ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.unfollow && $setup.unfollow(...args)),\n    type: \"button\",\n    class: \"btn btn-primary btn-sm\"\n  }, \"取消监督\")) : _createCommentVNode(\"v-if\", true), _hoisted_9])])])])]);\n}","map":{"version":3,"mappings":";;;;;EACKA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;gEAIHC,oBAAgE,QAAhE,EAAgE;EAAxDC,IAAI,EAAC,QAAmD;EAA1CF,KAAK,EAAC;AAAoC,CAAhE,EAAoD,KAApD,EAAuD;AAAA;AAAvD;;;uBAZpBG,oBAiBM,KAjBN,cAiBM,CAhBFF,oBAeM,KAfN,cAeM,CAdFA,oBAaE,KAbF,cAaE,CAZFA,oBAEM,KAFN,cAEM,CADFA,oBAAgD,KAAhD,EAAgD;IAA3CD,KAAK,EAAC,WAAqC;IAAxBI,GAAG,EAAEC,YAAKC,KAAc;IAAPC,GAAG,EAAC;EAAG,CAAhD;;EAAA,aACE,CAFN,CAYE,EATFN,oBAQM,KARN,cAQM,CAPFA,oBAA6C,KAA7C,cAA6CO,iBAArBH,YAAKI,QAAgB,CAA7C,EAAqC;EAAA;EAArC,CAOE,EANFR,oBAA+D,KAA/D,cAA6B,WAAMO,iBAAEH,YAAKK,aAAP,CAAnC,EAAuD;EAAA;EAAvD,CAME,EALFT,oBAIM,KAJN,EAIM,IAJN,EAIM,EAHiCI,YAAKM,6BAApCR,oBAA0G,QAA1G,EAA0G;UAAA;IAAjGS,OAAK,yCAAEC,uCAAF,CAA4F;IAAzDX,IAAI,EAAC,QAAoD;IAA3CF,KAAK,EAAC;EAAqC,CAA1G,EAA8F,KAA9F,sCAGF,EAFkCK,YAAKM,6BAArCR,oBAA4G,QAA5G,EAA4G;UAAA;IAAnGS,OAAK,yCAAEC,2CAAF,CAA8F;IAA1DX,IAAI,EAAC,QAAqD;IAA5CF,KAAK,EAAC;EAAsC,CAA5G,EAA+F,MAA/F,sCAEF,EADEc,UACF,CAJN,CAKE,CARN,CASE,CAbF,CAcE,CAfN,CAgBE,CAjBN","names":["class","_createElementVNode","type","_createElementBlock","src","$props","photo","alt","_toDisplayString","username","followerCount","is_followed","onClick","$setup","_hoisted_9"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\chess\\myspace\\src\\components\\UserProfileInfo.vue"],"sourcesContent":["<template>\r\n<div class=\"card\">\r\n    <div class=\"card-body\">\r\n        <div class=\"row\">\r\n        <div class=\"col-3 img-field\">\r\n            <img class=\"img-fluid\" :src=\"user.photo\" alt=\"\">\r\n        </div>\r\n        <div class=\"col-9\">\r\n            <div class=\"username\">{{user.username}}</div>\r\n            <div class=\"fans,fw-lighter\">被监督局数:{{user.followerCount}}</div>\r\n            <div >\r\n                    <button @click=\"follow\" v-if=\"!user.is_followed\" type=\"button\" class=\"btn btn-primary btn-sm\">+监督</button>\r\n                    <button @click=\"unfollow\" v-if=\"user.is_followed\" type=\"button\" class=\"btn btn-primary btn-sm\">取消监督</button>\r\n                    <button type=\"button\" class=\"btn btn-danger btn-sm\">发消息</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</div>\r\n    \r\n</template>\r\n<script>\r\n//import {computed} from 'vue';\r\n\r\nimport $ from 'jquery';\r\nimport { useStore } from 'vuex';\r\n\r\nexport default{\r\n    name:'UserProfileInfo',\r\n    props:{\r\n        user:{\r\n            type:Object,\r\n            required:true,\r\n        },\r\n    },\r\n    setup(props,context){\r\n        const store=useStore();\r\n        //let fullName=computed(()=>props.user.lastName+' '+props.user.firstName);\r\n        const follow =()=>{\r\n            //更新数据库状态\r\n            $.ajax({\r\n                url:\"https://app165.acapp.acwing.com.cn/myspace/follow/\",\r\n                type:\"POST\",\r\n                data:{\r\n                    target_id:props.user.id,//当前用户id\r\n\r\n                },\r\n                headers:{\r\n                    //Authorication,//身份验证\r\n                    'Authorization': 'Bearer ' + store.state.user.access, //授权\r\n\r\n                },\r\n                success(resp){\r\n                  if(resp.result===\"success\"){\r\n                      //授权成功之后则在前端渲染\r\n                  // console.log(\"follow\",resp);\r\n                   context.emit(\"follow\");\r\n\r\n                  }\r\n                  \r\n\r\n                    \r\n                }\r\n\r\n            });\r\n\r\n        };\r\n        const unfollow =()=>{\r\n             //更新数据库状态\r\n            $.ajax({\r\n                url:\"https://app165.acapp.acwing.com.cn/myspace/follow/\",\r\n                type:\"POST\",\r\n                data:{\r\n                    target_id:props.user.id,//当前用户id\r\n\r\n                },\r\n                headers:{\r\n                    //Authorization,身份验证\r\n                    'Authorization': 'Bearer ' + store.state.user.access, //授权\r\n\r\n                },\r\n                success(resp){\r\n                    //授权成功之后则在前端渲染\r\n                    if(resp.result===\"success\"){\r\n                        //console.log(\"unfollow\",resp);\r\n                        context.emit(\"unfollow\");\r\n\r\n                    }\r\n                     \r\n\r\n                    \r\n                }\r\n\r\n            });\r\n\r\n        \r\n\r\n        };\r\n        return {\r\n           // fullName,\r\n            follow,\r\n            unfollow,\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\nimg{\r\n  border-radius: 50%;\r\n  /*width:30px;\r\n  height:50px;*/\r\n}\r\n.username{\r\n    font-weight:bold;\r\n    font-size:15px;\r\n\r\n}\r\n.fans{\r\n    font-size:12px;\r\n    color:grey;\r\n}\r\nbutton{\r\n    padding:2px,4px;\r\n    font-size:12px;    \r\n}\r\n.card-body{\r\n    background-color: lightblue;\r\n    padding:2px,4px;\r\n    font-size:12px;\r\n\r\n}\r\n.img-field{\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content: center;\r\n\r\n\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}