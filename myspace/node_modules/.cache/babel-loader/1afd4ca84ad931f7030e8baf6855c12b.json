{"ast":null,"code":"import { ref } from 'vue';\nimport $ from 'jquery';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'UserProfileWrite',\n\n  setup(prpos, context) {\n    const store = useStore();\n    let content = ref('');\n\n    const post_a_post = () => {\n      $.ajax({\n        url: \"https://app165.acapp.acwing.com.cn/myspace/post/\",\n        type: \"POST\",\n        data: {\n          content: content.value\n        },\n        headers: {\n          'Authorization': \"Bearer \" + store.state.user.access\n        },\n\n        success(resp) {\n          //api授权为success，则在前端改掉\n          if (resp.result === \"success\") {\n            context.emit(\"post_a_post\", content.value); // console.log(content.value);\n\n            content.value = \"\";\n          }\n        }\n\n      });\n    };\n\n    return {\n      content: content,\n      post_a_post\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAYA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,eAAe;EACXC,IAAI,EAAC,kBADM;;EAEXC,KAAK,CAACC,KAAD,EAAOC,OAAP,EAAe;IAChB,MAAMC,KAAK,GAACL,QAAQ,EAApB;IACA,IAAIM,OAAO,GAACR,GAAG,CAAC,EAAD,CAAf;;IAEA,MAAMS,WAAW,GAAC,MAAI;MAClBR,CAAC,CAACS,IAAF,CAAO;QACHC,GAAG,EAAC,kDADD;QAEHC,IAAI,EAAC,MAFF;QAGHC,IAAI,EAAC;UACDL,OAAO,EAACA,OAAO,CAACM;QADf,CAHF;QAMHC,OAAO,EAAC;UACL,iBAAiB,YAAWR,KAAK,CAACS,KAAN,CAAYC,IAAZ,CAAiBC;QADxC,CANL;;QASHC,OAAO,CAACC,IAAD,EAAM;UACT;UACA,IAAGA,IAAI,CAACC,MAAL,KAAc,SAAjB,EAA2B;YACrBf,OAAO,CAACgB,IAAR,CAAa,aAAb,EAA2Bd,OAAO,CAACM,KAAnC,EADqB,CAEtB;;YACCN,OAAO,CAACM,KAAR,GAAc,EAAd;UAEN;QACJ;;MAjBG,CAAP;IAoBJ,CArBA;;IAuBA,OAAO;MACHN,OAAO,EAACA,OADL;MAEHC;IAFG,CAAP;EAIJ;;AAjCW,CAAf","names":["ref","$","useStore","name","setup","prpos","context","store","content","post_a_post","ajax","url","type","data","value","headers","state","user","access","success","resp","result","emit"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\chess\\myspace\\src\\components\\UserProfileWrite.vue"],"sourcesContent":["<template>\r\n    <div class=\"card edit-field\">\r\n        <div class=\"card-body\">\r\n           <div class=\"mb-3\">\r\n          <label for=\"edit-post\" class=\"form-label\">请在这里写下你的新鲜事</label>\r\n          <textarea v-model=\"content\" class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"></textarea>\r\n          <button @click=\"post_a_post\" type=\"button\" class=\"btn btn-success edit-submit btn-sm\">提交</button>\r\n       </div>\r\n     </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue';\r\nimport $ from 'jquery';\r\nimport { useStore } from 'vuex';\r\nexport default {\r\n    name:'UserProfileWrite',\r\n    setup(prpos,context){\r\n        const store=useStore();\r\n        let content=ref('');\r\n\r\n        const post_a_post=()=>{\r\n            $.ajax({\r\n                url:\"https://app165.acapp.acwing.com.cn/myspace/post/\",\r\n                type:\"POST\",\r\n                data:{\r\n                    content:content.value,\r\n                },\r\n                headers:{\r\n                   'Authorization': \"Bearer \" +store.state.user.access,\r\n                },\r\n                success(resp){\r\n                    //api授权为success，则在前端改掉\r\n                    if(resp.result===\"success\"){\r\n                          context.emit(\"post_a_post\",content.value);\r\n                         // console.log(content.value);\r\n                          content.value=\"\";\r\n\r\n                    }\r\n                }\r\n            })\r\n          \r\n        }\r\n\r\n        return {\r\n            content:content,\r\n            post_a_post\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.edit-field{\r\n    margin-top:10px;\r\n    width:210px;\r\n\r\n}\r\n.edit-submit{\r\n    margin-top:10px;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}