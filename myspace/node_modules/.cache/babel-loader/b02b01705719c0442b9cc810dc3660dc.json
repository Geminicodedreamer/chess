{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2396cf88\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 用户列表 \");\n\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"col-1 img-field\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"col-11\"\n};\nconst _hoisted_8 = {\n  class: \"username fw-blod\"\n};\nconst _hoisted_9 = {\n  class: \"follower-count\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ContentBase = _resolveComponent(\"ContentBase\");\n\n  return _openBlock(), _createBlock(_component_ContentBase, null, {\n    default: _withCtx(() => [_hoisted_1, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.users, user => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"card\",\n        key: user.id,\n        onClick: $event => $setup.open_user_profile(user.id)\n      }, [_createCommentVNode(\"传入的应为user.id\"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"img\", {\n        class: \"img-fluid\",\n        src: user.photo,\n        alt: \"\"\n      }, null, 8\n      /* PROPS */\n      , _hoisted_6)]), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\"用户名和粉丝数量\"), _createElementVNode(\"div\", _hoisted_8, \"姓名：\" + _toDisplayString(user.username), 1\n      /* TEXT */\n      ), _createElementVNode(\"div\", _hoisted_9, \"被监督棋局数:\" + _toDisplayString(user.followerCount), 1\n      /* TEXT */\n      )])])])], 8\n      /* PROPS */\n      , _hoisted_2);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))]),\n    _: 1\n    /* STABLE */\n\n  });\n}","map":{"version":3,"mappings":";;;;iDAEa;;;;EAGFA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;EAEJA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;;;uBAXvBC,aAiBcC,sBAjBd,EAiBc,IAjBd,EAiBc;sBAjBD,MAET,oDAaMC,SAbN,EAaM,IAbN,EAaMC,YAb2BC,YAa3B,EAbmBC,IAAa,IAAT;2BAA7BC,oBAaM,KAbN,EAaM;QAbDP,KAAK,EAAC,MAaL;QAbmCQ,GAAG,EAAEF,IAAI,CAACG,EAa7C;QAbkDC,OAAK,YAAEL,yBAAkBC,IAAI,CAACG,EAAvB;MAazD,CAbN,GAA2FE,qCACzFC,oBAWM,KAXN,cAWM,CAVJA,oBASM,KATN,cASM,CARJA,oBAEM,KAFN,cAEM,CADAA,oBAAgD,KAAhD,EAAgD;QAA3CZ,KAAK,EAAC,WAAqC;QAAxBa,GAAG,EAAEP,IAAI,CAACQ,KAAc;QAAPC,GAAG,EAAC;MAAG,CAAhD;;MAAA,aACA,CAFN,CAQI,EALJH,oBAIM,KAJN,cAIM,CAHJD,+BAGI,EAFJC,oBAAwD,KAAxD,cAA8B,QAAGI,iBAAEV,IAAI,CAACW,QAAP,CAAjC,EAAgD;MAAA;MAAhD,CAEI,EADJL,oBAA+D,KAA/D,cAA4B,YAAOI,iBAAEV,IAAI,CAACY,aAAP,CAAnC,EAAuD;MAAA;MAAvD,CACI,CAJN,CAKI,CATN,CAUI,CAXN,EADF;;MAAA;KAaM,CAbN;;IAAA,IAeU;;;;EAAA,CAjBd","names":["class","_createBlock","_component_ContentBase","_Fragment","_renderList","$setup","user","_createElementBlock","key","id","onClick","_createCommentVNode","_createElementVNode","src","photo","alt","_toDisplayString","username","followerCount"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\chess\\myspace\\src\\views\\UserListView.vue"],"sourcesContent":["<template>\r\n \r\n<ContentBase>\r\n    用户列表\r\n    <div class=\"card\" v-for=\"user in users\" :key=\"user.id\" @click=\"open_user_profile(user.id)\"><!--传入的应为user.id-->\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-1 img-field\">\r\n                <img class=\"img-fluid\" :src=\"user.photo\" alt=\"\">\r\n          </div>\r\n          <div class=\"col-11\">\r\n            <!--用户名和粉丝数量-->            \r\n            <div class=\"username fw-blod\">姓名：{{user.username}}</div>\r\n            <div class=\"follower-count\">被监督棋局数:{{user.followerCount}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</ContentBase>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport ContentBase from '../components/ContentBase';\r\nimport $ from 'jquery';\r\nimport {ref} from 'vue';\r\nimport router from '@/router/index';\r\nimport { useStore } from 'vuex';//判断是否登录\r\n\r\nexport default {\r\n  name: 'UserList',\r\n  components: {\r\n    ContentBase,\r\n  },\r\n  setup(){\r\n    const store=useStore();\r\n    let users=ref([]);//变量初始为空\r\n    //云端动态获取用户信息\r\n    $.ajax({\r\n      url:'https://app165.acapp.acwing.com.cn/myspace/userlist/',\r\n      type:'get',\r\n      success(resp){\r\n        //console.log(resp);\r\n        users.value=resp;\r\n      }\r\n    });\r\n    //当点击用户进入相应的用户动态页面\r\n    const open_user_profile=userId=>{\r\n      //判断是否登录\r\n      if(store.state.user.is_login){\r\n        //已经登录，跳转到userproflie页面\r\n        router.push({\r\n          name:'userprofile',\r\n          //注意是params\r\n          params:{\r\n            userId:userId,\r\n\r\n          }\r\n        })\r\n      }else{\r\n        //未登录跳转到登录页面\r\n        router.push({\r\n          name:'login',\r\n\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n    return{\r\n      users,\r\n      open_user_profile,\r\n\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nimg{\r\n  border-radius: 50%;\r\n}\r\n.username{\r\n  font-size:20px;\r\n  height:50%;\r\n\r\n}\r\n.follower-count{\r\n  font-size:12px;\r\n  color:gray;\r\n  height:50%;\r\n}\r\n.card{\r\n  margin-bottom:10px;\r\n  cursor:pointer;\r\n}\r\n.card:hover{\r\n  box-shadow: 2px 2px 10px lightgrey;\r\n  transition: 500ms;\r\n}\r\n.img-field{\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content: center;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}