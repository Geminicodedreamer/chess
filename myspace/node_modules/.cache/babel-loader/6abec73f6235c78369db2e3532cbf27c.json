{"ast":null,"code":"import ContentBase from '../components/ContentBase';\nimport $ from 'jquery';\nimport { ref } from 'vue';\nimport router from '@/router/index';\nimport { useStore } from 'vuex'; //判断是否登录\n\nexport default {\n  name: 'ChessList',\n  components: {\n    ContentBase\n  },\n\n  setup() {\n    const store = useStore();\n    let users = ref([]); //变量初始为空\n    //云端动态获取用户信息\n\n    $.ajax({\n      url: 'https://app165.acapp.acwing.com.cn/myspace/userlist/',\n      type: 'get',\n\n      success(resp) {\n        //console.log(resp);\n        users.value = resp;\n      }\n\n    }); //当点击用户进入相应的用户动态页面\n\n    const open_user_profile = userId => {\n      //判断是否登录\n      if (store.state.user.is_login) {\n        //已经登录，跳转到userproflie页面\n        router.push({\n          name: 'userprofile',\n          //注意是params\n          params: {\n            userId: userId\n          }\n        });\n      } else {\n        //未登录跳转到登录页面\n        router.push({\n          name: 'login'\n        });\n      }\n    };\n\n    return {\n      users,\n      open_user_profile\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAkBA,OAAOA,WAAP,MAAwB,2BAAxB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAAQC,GAAR,QAAkB,KAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,SAASC,QAAT,QAAyB,MAAzB,C,CAAgC;;AAEhC,eAAe;EACbC,IAAI,EAAE,WADO;EAEbC,UAAU,EAAE;IACVN;EADU,CAFC;;EAKbO,KAAK,GAAE;IACL,MAAMC,KAAK,GAACJ,QAAQ,EAApB;IACA,IAAIK,KAAK,GAACP,GAAG,CAAC,EAAD,CAAb,CAFK,CAEa;IAClB;;IACAD,CAAC,CAACS,IAAF,CAAO;MACLC,GAAG,EAAC,sDADC;MAELC,IAAI,EAAC,KAFA;;MAGLC,OAAO,CAACC,IAAD,EAAM;QACX;QACAL,KAAK,CAACM,KAAN,GAAYD,IAAZ;MACF;;IANK,CAAP,EAJK,CAYL;;IACA,MAAME,iBAAiB,GAACC,MAAM,IAAE;MAC9B;MACA,IAAGT,KAAK,CAACU,KAAN,CAAYC,IAAZ,CAAiBC,QAApB,EAA6B;QAC3B;QACAjB,MAAM,CAACkB,IAAP,CAAY;UACVhB,IAAI,EAAC,aADK;UAEV;UACAiB,MAAM,EAAC;YACLL,MAAM,EAACA;UADF;QAHG,CAAZ;MAQD,CAVD,MAUK;QACH;QACAd,MAAM,CAACkB,IAAP,CAAY;UACVhB,IAAI,EAAC;QADK,CAAZ;MAIF;IAEF,CApBA;;IAuBA,OAAM;MACJI,KADI;MAEJO;IAFI,CAAN;EAMF;;AA/Ca,CAAf","names":["ContentBase","$","ref","router","useStore","name","components","setup","store","users","ajax","url","type","success","resp","value","open_user_profile","userId","state","user","is_login","push","params"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\chess\\myspace\\src\\views\\ChessListView.vue"],"sourcesContent":["<template>\r\n   <ContentBase>\r\n    棋局列表\r\n    <div class=\"card\" v-for=\"user in users\" :key=\"user.id\" @click=\"open_user_profile(user.id)\"><!--传入的应为user.id-->\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n            <div class=\"username fw-blod\">棋局时长：{{user.time}}</div>\r\n            <div class=\"username fw-blod\">对手id：{{user.username}}</div>\r\n            <div class=\"follower-count\">胜负:{{user.win}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n</ContentBase>\r\n</template>\r\n\r\n<script>\r\n\r\nimport ContentBase from '../components/ContentBase';\r\nimport $ from 'jquery';\r\nimport {ref} from 'vue';\r\nimport router from '@/router/index';\r\nimport { useStore } from 'vuex';//判断是否登录\r\n\r\nexport default {\r\n  name: 'ChessList',\r\n  components: {\r\n    ContentBase,\r\n  },\r\n  setup(){\r\n    const store=useStore();\r\n    let users=ref([]);//变量初始为空\r\n    //云端动态获取用户信息\r\n    $.ajax({\r\n      url:'https://app165.acapp.acwing.com.cn/myspace/userlist/',\r\n      type:'get',\r\n      success(resp){\r\n        //console.log(resp);\r\n        users.value=resp;\r\n      }\r\n    });\r\n    //当点击用户进入相应的用户动态页面\r\n    const open_user_profile=userId=>{\r\n      //判断是否登录\r\n      if(store.state.user.is_login){\r\n        //已经登录，跳转到userproflie页面\r\n        router.push({\r\n          name:'userprofile',\r\n          //注意是params\r\n          params:{\r\n            userId:userId,\r\n\r\n          }\r\n        })\r\n      }else{\r\n        //未登录跳转到登录页面\r\n        router.push({\r\n          name:'login',\r\n\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n    return{\r\n      users,\r\n      open_user_profile,\r\n\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nimg{\r\n  border-radius: 50%;\r\n}\r\n.username{\r\n  font-size:20px;\r\n  height:50%;\r\n\r\n}\r\n.follower-count{\r\n  font-size:12px;\r\n  color:gray;\r\n  height:50%;\r\n}\r\n.card{\r\n  margin-bottom:10px;\r\n  cursor:pointer;\r\n}\r\n.card:hover{\r\n  box-shadow: 2px 2px 10px lightgrey;\r\n  transition: 500ms;\r\n}\r\n.img-field{\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content: center;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}