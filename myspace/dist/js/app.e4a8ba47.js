(function(){"use strict";var e={1126:function(e,s,t){var a=t(9242),o=t(3396);function n(e,s,t,a,n,l){const r=(0,o.up)("NavBar"),c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r),((0,o.wg)(),(0,o.j4)(c,{key:e.$route.fullPath}))])}t(8052);var l=t(7139);const r=e=>((0,o.dD)("data-v-691e72f0"),e=e(),(0,o.Cn)(),e),c={class:"navbar navbar-expand-lg navbar-light bg-light nav-color"},i={class:"container"},u=(0,o.Uk)("棋社"),d=r((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),p={class:"collapse navbar-collapse",id:"navbarText"},m={class:"navbar-nav me-auto mb-2 mb-lg-0"},_={class:"nav-item"},f=(0,o.Uk)("首页"),v={class:"nav-item"},w={key:0,class:"navbar-nav"},g={class:"nav-item"},h=(0,o.Uk)("用户列表"),b={key:1,class:"navbar-nav"},y=(0,o.Uk)("用户列表"),k={class:"nav-item"},C={key:0,class:"navbar-nav"},P={class:"nav-item"},U=(0,o.Uk)("棋局"),j={key:1,class:"navbar-nav"},D=(0,o.Uk)("棋局"),x={class:"nav-item"},T={key:0,class:"navbar-nav"},B={class:"nav-item"},I=(0,o.Uk)("棋局列表"),z={key:1,class:"navbar-nav"},O=(0,o.Uk)("棋局列表"),W={key:0,class:"navbar-nav"},$={class:"nav-item"},S=(0,o.Uk)("登录"),Z={class:"nav-item"},H=(0,o.Uk)("注册"),q={key:1,class:"navbar-nav"},V={class:"nav-item"},A={class:"nav-item"},F=(0,o.Uk)("退出");function R(e,s,t,a,n,r){const R=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",c,[(0,o._)("div",i,[(0,o.Wm)(R,{class:"navbar-brand",to:{name:"home"}},{default:(0,o.w5)((()=>[u])),_:1}),d,(0,o._)("div",p,[(0,o._)("ul",m,[(0,o._)("li",_,[(0,o.Wm)(R,{class:"nav-link",to:{name:"home"}},{default:(0,o.w5)((()=>[f])),_:1})]),(0,o._)("li",v,[e.$store.state.user.is_login?((0,o.wg)(),(0,o.iD)("ul",b,[(0,o.Wm)(R,{class:"nav-link",to:{name:"userlist"}},{default:(0,o.w5)((()=>[y])),_:1})])):((0,o.wg)(),(0,o.iD)("ul",w,[(0,o._)("li",g,[(0,o.Wm)(R,{class:"nav-link",to:{name:"login"}},{default:(0,o.w5)((()=>[h])),_:1})])]))]),(0,o._)("li",k,[e.$store.state.user.is_login?((0,o.wg)(),(0,o.iD)("ul",j,[(0,o.Wm)(R,{class:"nav-link",to:{name:"chess"}},{default:(0,o.w5)((()=>[D])),_:1})])):((0,o.wg)(),(0,o.iD)("ul",C,[(0,o._)("li",P,[(0,o.Wm)(R,{class:"nav-link",to:{name:"login"}},{default:(0,o.w5)((()=>[U])),_:1})])]))]),(0,o._)("li",x,[e.$store.state.user.is_login?((0,o.wg)(),(0,o.iD)("ul",z,[(0,o.Wm)(R,{class:"nav-link",to:{name:"chesslist"}},{default:(0,o.w5)((()=>[O])),_:1})])):((0,o.wg)(),(0,o.iD)("ul",T,[(0,o._)("li",B,[(0,o.Wm)(R,{class:"nav-link",to:{name:"login"}},{default:(0,o.w5)((()=>[I])),_:1})])]))])]),e.$store.state.user.is_login?((0,o.wg)(),(0,o.iD)("ul",q,[(0,o._)("li",V,[(0,o.Wm)(R,{class:"nav-link",to:{name:"userprofile",params:{userId:e.$store.state.user.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$store.state.user.username),1)])),_:1},8,["to"])]),(0,o._)("li",A,[(0,o.Wm)(R,{class:"nav-link",to:{name:"login"},style:{cursor:"pointer"},onClick:a.logout},{default:(0,o.w5)((()=>[F])),_:1},8,["onClick"])])])):((0,o.wg)(),(0,o.iD)("ul",W,[(0,o._)("li",$,[(0,o.Wm)(R,{class:"nav-link",to:{name:"login"}},{default:(0,o.w5)((()=>[S])),_:1})]),(0,o._)("li",Z,[(0,o.Wm)(R,{class:"nav-link",to:{name:"register"}},{default:(0,o.w5)((()=>[H])),_:1})])]))])])])}var G=t(65),M={name:"NavBar",setup(){const e=(0,G.oR)(),s=()=>{e.commit("logout")};return{logout:s}}},E=t(89);const N=(0,E.Z)(M,[["render",R],["__scopeId","data-v-691e72f0"]]);var L=N,K={name:"App",components:{NavBar:L}};const Y=(0,E.Z)(K,[["render",n]]);var X=Y,J=t(678);const Q=(0,o.Uk)(" 首页 "),ee={class:"card-body"},se={class:"row"},te={class:"fs-3"},ae=["src"];function oe(e,s,t,a,n,r){const c=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[Q,(0,o._)("div",ee,[(0,o._)("div",se,[(0,o._)("div",te,[(0,o._)("img",{class:"img-fluid",src:e.$store.state.user.photo,alt:""},null,8,ae),(0,o.Uk)(" 您好 "+(0,l.zw)(e.$store.state.user.username),1)])])])])),_:1})}const ne={class:"home"},le={class:"container"},re={class:"card"},ce={class:"card-body"};function ie(e,s,t,a,n,l){return(0,o.wg)(),(0,o.iD)("div",ne,[(0,o._)("div",le,[(0,o._)("div",re,[(0,o._)("div",ce,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])])])}var ue={name:"ContentBase"};const de=(0,E.Z)(ue,[["render",ie],["__scopeId","data-v-37714707"]]);var pe=de,me={name:"HomeView",components:{ContentBase:pe}};const _e=(0,E.Z)(me,[["render",oe],["__scopeId","data-v-ac3109ea"]]);var fe=_e;const ve=(0,o.Uk)(" 用户列表 "),we=["onClick"],ge={class:"card-body"},he={class:"row"},be={class:"col-1 img-field"},ye=["src"],ke={class:"col-11"},Ce={class:"username fw-blod"},Pe={class:"follower-count"};function Ue(e,s,t,a,n,r){const c=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[ve,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.users,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"card",key:e.id,onClick:s=>a.open_user_profile(e.id)},[(0,o._)("div",ge,[(0,o._)("div",he,[(0,o._)("div",be,[(0,o._)("img",{class:"img-fluid",src:e.photo,alt:""},null,8,ye)]),(0,o._)("div",ke,[(0,o._)("div",Ce,"姓名："+(0,l.zw)(e.username),1),(0,o._)("div",Pe,"被监督棋局数:"+(0,l.zw)(e.followerCount),1)])])])],8,we)))),128))])),_:1})}var je=t(7387),De=t.n(je),xe=t(4870),Te={name:"UserList",components:{ContentBase:pe},setup(){const e=(0,G.oR)();let s=(0,xe.iH)([]);De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/userlist/",type:"get",success(e){s.value=e}});const t=s=>{e.state.user.is_login?ma.push({name:"userprofile",params:{userId:s}}):ma.push({name:"login"})};return{users:s,open_user_profile:t}}};const Be=(0,E.Z)(Te,[["render",Ue],["__scopeId","data-v-f9d38e24"]]);var Ie=Be;const ze={class:"row"},Oe={class:"col-3"},We={class:"col-9"},$e=(0,o.Uk)("帖子列表 ");function Se(e,s,t,a,n,l){const r=(0,o.up)("UserProfileInfo"),c=(0,o.up)("UserProfileWrite"),i=(0,o.up)("UserProfilePosts"),u=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",ze,[(0,o._)("div",Oe,[(0,o.Wm)(r,{onFollow:a.follow,onUnfollow:a.unfollow,user:a.user},null,8,["onFollow","onUnfollow","user"]),a.is_me?((0,o.wg)(),(0,o.j4)(c,{key:0,onPost_a_post:a.post_a_post},null,8,["onPost_a_post"])):(0,o.kq)("",!0)]),(0,o._)("div",We,[$e,(0,o.Wm)(i,{user:a.user,posts:a.posts,onDelete_a_post:a.delete_a_post},null,8,["user","posts","onDelete_a_post"])])])])),_:1})}const Ze=e=>((0,o.dD)("data-v-4a1ae888"),e=e(),(0,o.Cn)(),e),He={class:"card"},qe={class:"card-body"},Ve={class:"row"},Ae={class:"col-3 img-field"},Fe=["src"],Re={class:"col-9"},Ge={class:"username"},Me={class:"fans,fw-lighter"},Ee=Ze((()=>(0,o._)("button",{type:"button",class:"btn btn-danger btn-sm"},"发消息",-1)));function Ne(e,s,t,a,n,r){return(0,o.wg)(),(0,o.iD)("div",He,[(0,o._)("div",qe,[(0,o._)("div",Ve,[(0,o._)("div",Ae,[(0,o._)("img",{class:"img-fluid",src:t.user.photo,alt:""},null,8,Fe)]),(0,o._)("div",Re,[(0,o._)("div",Ge,(0,l.zw)(t.user.username),1),(0,o._)("div",Me,"被监督棋局数:"+(0,l.zw)(t.user.followerCount),1),(0,o._)("div",null,[t.user.is_followed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:s[0]||(s[0]=(...e)=>a.follow&&a.follow(...e)),type:"button",class:"btn btn-primary btn-sm"},"+监督")),t.user.is_followed?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:s[1]||(s[1]=(...e)=>a.unfollow&&a.unfollow(...e)),type:"button",class:"btn btn-primary btn-sm"},"取消监督")):(0,o.kq)("",!0),Ee])])])])])}var Le={name:"UserProfileInfo",props:{user:{type:Object,required:!0}},setup(e,s){const t=(0,G.oR)(),a=()=>{De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/follow/",type:"POST",data:{target_id:e.user.id},headers:{Authorization:"Bearer "+t.state.user.access},success(e){"success"===e.result&&s.emit("follow")}})},o=()=>{De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/follow/",type:"POST",data:{target_id:e.user.id},headers:{Authorization:"Bearer "+t.state.user.access},success(e){"success"===e.result&&s.emit("unfollow")}})};return{follow:a,unfollow:o}}};const Ke=(0,E.Z)(Le,[["render",Ne],["__scopeId","data-v-4a1ae888"]]);var Ye=Ke;const Xe={class:"card"},Je={class:"card-body"},Qe={class:"card single-post"},es={class:"card-body card-color"},ss={key:0,type:"button",class:"btn btn-success btn-sm btn-change"},ts=["onClick"];function as(e,s,t,a,n,r){return(0,o.wg)(),(0,o.iD)("div",Xe,[(0,o._)("div",Je,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.posts.posts,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o._)("div",Qe,[(0,o._)("div",es,[(0,o.Uk)((0,l.zw)(e.content),1),a.is_me?((0,o.wg)(),(0,o.iD)("button",ss,"修改")):(0,o.kq)("",!0),a.is_me?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:s=>a.delete_a_post(e.id),type:"button",class:"btn btn-danger btn-delete btn-sm"},"删除",8,ts)):(0,o.kq)("",!0)])])])))),128))])])}var os={name:"UserProfilePosts",props:{posts:{type:Object,required:!0},user:{type:Object,required:!0}},setup(e,s){const t=(0,G.oR)();let a=(0,o.Fl)((()=>t.state.user.id===e.user.id));const n=e=>{De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/post/",type:"DELETE",data:{post_id:e},headers:{Authorization:"Bearer "+t.state.user.access},success(t){"success"===t.result&&s.emit("delete_a_post",e)},error(){}})};return{is_me:a,delete_a_post:n}}};const ns=(0,E.Z)(os,[["render",as],["__scopeId","data-v-b9741d74"]]);var ls=ns;const rs=e=>((0,o.dD)("data-v-43b9fc40"),e=e(),(0,o.Cn)(),e),cs={class:"card edit-field"},is={class:"card-body"},us={class:"mb-3"},ds=rs((()=>(0,o._)("label",{for:"edit-post",class:"form-label"},"请在这里写下你的新鲜事",-1)));function ps(e,s,t,n,l,r){return(0,o.wg)(),(0,o.iD)("div",cs,[(0,o._)("div",is,[(0,o._)("div",us,[ds,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.content=e),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,512),[[a.nr,n.content]]),(0,o._)("button",{onClick:s[1]||(s[1]=(...e)=>n.post_a_post&&n.post_a_post(...e)),type:"button",class:"btn btn-success edit-submit btn-sm"},"提交")])])])}var ms={name:"UserProfileWrite",setup(e,s){const t=(0,G.oR)();let a=(0,xe.iH)("");const o=()=>{De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/post/",type:"POST",data:{content:a.value},headers:{Authorization:"Bearer "+t.state.user.access},success(e){"success"===e.result&&(s.emit("post_a_post",a.value),a.value="")}})};return{content:a,post_a_post:o}}};const _s=(0,E.Z)(ms,[["render",ps],["__scopeId","data-v-43b9fc40"]]);var fs=_s,vs={name:"UserProfile",components:{ContentBase:pe,UserProfileInfo:Ye,UserProfilePosts:ls,UserProfileWrite:fs},setup(){const e=(0,G.oR)(),s=(0,J.yj)(),t=parseInt(s.params.userId),a=(0,xe.qj)({}),n=(0,xe.qj)({});De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/getinfo/",type:"GET",data:{user_id:t},headers:{Authorization:"Bearer "+e.state.user.access},success(e){a.id=e.id,a.username=e.username,a.photo=e.photo,a.followerCount=e.followerCount,a.is_followed=e.is_followed},error(){console.log("failed")}}),De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/post/",type:"GET",data:{user_id:t},headers:{Authorization:"Bearer "+e.state.user.access},success(e){n.count=e.length,n.posts=e},error(){console.log("failed")}});const l=()=>{a.is_followed||(a.is_followed=!0,a.followerCount++)},r=()=>{a.is_followed&&(a.is_followed=!1,a.followerCount--)},c=e=>{n.count++,n.posts.unshift({id:n.count,userId:1,content:e})},i=e=>{n.posts=n.posts.filter((s=>s.id!=e)),n.count=n.posts.length},u=(0,o.Fl)((()=>t===e.state.user.id));return{user:a,follow:l,unfollow:r,posts:n,post_a_post:c,delete_a_post:i,is_me:u}}};const ws=(0,E.Z)(vs,[["render",Se]]);var gs=ws,hs=t.p+"img/wechat.718df3fa.jpg",bs=t.p+"img/qq.6a09127c.png",ys=t.p+"img/dingding.52ef33d0.png";const ks=e=>((0,o.dD)("data-v-1a5885fe"),e=e(),(0,o.Cn)(),e),Cs={class:"row justify-content-md-center"},Ps={class:"col-3"},Us={class:"mb-3"},js=ks((()=>(0,o._)("label",{for:"username",class:"form-label"},"用户名",-1))),Ds={class:"mb-3"},xs=ks((()=>(0,o._)("label",{for:"password",class:"form-label"},"密码",-1))),Ts={class:"error-message"},Bs=ks((()=>(0,o._)("button",{type:"submit",class:"btn btn-primary"},"登录",-1))),Is=ks((()=>(0,o._)("p",null,null,-1))),zs=ks((()=>(0,o._)("div",null,[(0,o._)("img",{src:hs,alt:""}),(0,o._)("img",{src:bs,alt:""}),(0,o._)("img",{src:ys,alt:""})],-1))),Os=(0,o.Uk)("忘记密码");function Ws(e,s,t,n,r,c){const i=(0,o.up)("router-link"),u=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",Cs,[(0,o._)("div",Ps,[(0,o._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,o._)("div",Us,[js,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e),type:"text",class:"form-control",id:"username"},null,512),[[a.nr,n.username]])]),(0,o._)("div",Ds,[xs,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),type:"password",class:"form-control",id:"password"},null,512),[[a.nr,n.password]])]),(0,o._)("div",Ts,(0,l.zw)(n.error_message),1),Bs],32)]),Is]),zs,(0,o._)("div",null,[(0,o.Wm)(i,{class:"nav-link",to:{name:"findkey"}},{default:(0,o.w5)((()=>[Os])),_:1})])])),_:1})}var $s={name:"LoginView",components:{ContentBase:pe},setup(){const e=(0,G.oR)();let s=(0,xe.iH)(""),t=(0,xe.iH)(""),a=(0,xe.iH)("");const o=()=>{a.value="",e.dispatch("login",{username:s.value,password:t.value,success(){ma.push({name:"home"})},error(){a.value="用户名或密码错误"}})};return{username:s,password:t,error_message:a,login:o}}};const Ss=(0,E.Z)($s,[["render",Ws],["__scopeId","data-v-1a5885fe"]]);var Zs=Ss;const Hs=(0,o.Uk)(" 404 ");function qs(e,s,t,a,n,l){const r=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(r,null,{default:(0,o.w5)((()=>[Hs])),_:1})}var Vs={name:"NotFound",components:{ContentBase:pe}};const As=(0,E.Z)(Vs,[["render",qs]]);var Fs=As;const Rs=e=>((0,o.dD)("data-v-7baf7e2a"),e=e(),(0,o.Cn)(),e),Gs={class:"row justify-content-md-center"},Ms={class:"col-3"},Es={class:"mb-3"},Ns=Rs((()=>(0,o._)("label",{for:"username",class:"form-label"},"用户名",-1))),Ls={class:"mb-3"},Ks=Rs((()=>(0,o._)("label",{for:"password",class:"form-label"},"密码",-1))),Ys={class:"mb-3"},Xs=Rs((()=>(0,o._)("label",{for:"password_confirm",class:"form-label"},"确认密码",-1))),Js={class:"error-message"},Qs=Rs((()=>(0,o._)("button",{type:"submit",class:"btn btn-primary"},"注册",-1)));function et(e,s,t,n,r,c){const i=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(i,null,{default:(0,o.w5)((()=>[(0,o._)("div",Gs,[(0,o._)("div",Ms,[(0,o._)("form",{onSubmit:s[3]||(s[3]=(0,a.iM)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,o._)("div",Es,[Ns,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e),type:"text",class:"form-control",id:"username"},null,512),[[a.nr,n.username]])]),(0,o._)("div",Ls,[Ks,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),type:"password",class:"form-control",id:"password"},null,512),[[a.nr,n.password]])]),(0,o._)("div",Ys,[Xs,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.password_confirm=e),type:"password",class:"form-control",id:"password_confirm"},null,512),[[a.nr,n.password_confirm]])]),(0,o._)("div",Js,(0,l.zw)(n.error_message),1),Qs],32)])])])),_:1})}var st={name:"RegisterView",components:{ContentBase:pe},setup(){const e=(0,G.oR)();let s=(0,xe.iH)(""),t=(0,xe.iH)(""),a=(0,xe.iH)(""),o=(0,xe.iH)("");const n=()=>{o.value="",console.log(e,ma),De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/user/",type:"POST",data:{username:s.value,password:t.value,password_confirm:a.value},success(a){"success"===a.result?e.dispatch("login",{username:s.value,password:t.value,success(){ma.push({name:"userlist"})},error(){o.value="系统异常，请稍后重试"}}):o.value=a.result},error(){}})};return{username:s,password:t,password_confirm:a,error_message:o,register:n}}};const tt=(0,E.Z)(st,[["render",et],["__scopeId","data-v-7baf7e2a"]]);var at=tt,ot=t.p+"img/chess.1abf9aed.jpg";const nt=e=>((0,o.dD)("data-v-8e94b5c2"),e=e(),(0,o.Cn)(),e),lt=nt((()=>(0,o._)("p",null,"棋局",-1))),rt={class:"card-body"},ct={class:"row"},it=nt((()=>(0,o._)("img",{src:ot,alt:"",style:{width:"80%",height:"auto"}},null,-1))),ut={class:"col-2"},dt={class:"card"},pt=nt((()=>(0,o._)("p",null,null,-1))),mt={class:"card"},_t=nt((()=>(0,o._)("p",null,null,-1))),ft=nt((()=>(0,o._)("div",{class:"card"},[(0,o._)("select",{class:"form-select","aria-label":"Disabled select example"},[(0,o._)("option",{selected:""},"先手棋子颜色"),(0,o._)("option",{value:"1"},"黑子先手"),(0,o._)("option",{value:"2"},"白子先手")])],-1))),vt=nt((()=>(0,o._)("p",null,null,-1))),wt={class:"card"},gt=nt((()=>(0,o._)("p",null,null,-1))),ht={class:"card"},bt=nt((()=>(0,o._)("p",{class:"fs-4"},"时间：",-1))),yt={class:"fs-5"},kt=nt((()=>(0,o._)("p",null,null,-1))),Ct=nt((()=>(0,o._)("div",{class:"card"},[(0,o._)("p",{class:"fs-5"},"本局监督记录人员id：CC")],-1))),Pt=nt((()=>(0,o._)("p",null,null,-1))),Ut={class:"card"},jt=nt((()=>(0,o._)("option",{disabled:"",value:""},"选择执子棋子颜色",-1))),Dt=nt((()=>(0,o._)("option",{value:"1"},"黑子执子",-1))),xt=nt((()=>(0,o._)("option",{value:"2"},"白子执子",-1))),Tt=[jt,Dt,xt],Bt=nt((()=>(0,o._)("p",null,null,-1))),It=nt((()=>(0,o._)("div",{class:"card"},[(0,o._)("div",{class:"form-floating"},[(0,o._)("textarea",{class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}}),(0,o._)("label",{for:"floatingTextarea2"},"备注")])],-1)));function zt(e,s,t,n,r,c){const i=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(i,null,{default:(0,o.w5)((()=>[lt,(0,o._)("div",rt,[(0,o._)("div",ct,[(0,o._)("div",{class:"col-7 img-field",style:{position:"relative"},onClick:s[0]||(s[0]=(...e)=>c.placeChessPiece&&c.placeChessPiece(...e))},[it,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.chessPieces,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s,style:(0,l.j5)(e.style),class:(0,l.C_)(["chess-piece",{"black-piece":1===e.color,"white-piece":2===e.color}])},(0,l.zw)(e.number),7)))),128))]),(0,o._)("div",ut,[(0,o._)("div",dt,[(0,o._)("button",{type:"button",class:"btn btn-outline-primary",onClick:s[1]||(s[1]=(...e)=>c.startNewGame&&c.startNewGame(...e))},"重新记录棋局")]),pt,(0,o._)("div",mt,[(0,o._)("button",{type:"button",class:"btn btn-warning",onClick:s[2]||(s[2]=(...e)=>c.stopTime&&c.stopTime(...e))},"保存当前记录")]),_t,ft,vt,(0,o._)("div",wt,[(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:s[3]||(s[3]=(...e)=>c.exitGame&&c.exitGame(...e))},"退出棋局")]),gt,(0,o._)("div",ht,[bt,(0,o._)("p",yt,(0,l.zw)(r.formattedTime),1)]),kt,Ct,Pt,(0,o._)("div",Ut,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>r.chessPieceColor=e),class:"form-select","aria-label":"Disabled select example",onChange:s[5]||(s[5]=(...e)=>c.updateChessPieceColor&&c.updateChessPieceColor(...e))},Tt,544),[[a.bM,r.chessPieceColor]])]),Bt,It])])])])),_:1})}var Ot={name:"ChessView",components:{ContentBase:pe},data(){return{elapsedTime:0,formattedTime:"0 小时 0 分钟 0 秒",chessPieceColor:1,chessPieces:[],timedelta:0}},created(){this.startTimer()},methods:{startTimer(){this.timedelta=1,setInterval((()=>{this.elapsedTime+=this.timedelta,this.formatTime()}),1e3)},formatTime(){const e=Math.floor(this.elapsedTime/3600),s=Math.floor(this.elapsedTime%3600/60),t=this.elapsedTime%60;this.formattedTime=`${e} 小时 ${s} 分钟 ${t} 秒`},stopTime(){this.timedelta=0},startNewGame(){this.elapsedTime=0,this.timedelta=1,this.formattedTime="0 小时 0 分钟 0 秒",this.chessPieces=[]},updateChessPieceColor(){this.chessPieceColor=parseInt(this.chessPieceColor)},exitGame(){this.$router.push("chesslist")},placeChessPiece(e){if(null===this.chessPieceColor||void 0===this.chessPieceColor)return;const s=e.target.getBoundingClientRect(),t=e.clientX-s.left+84,a=e.clientY-s.top,o=s.width,n=s.height,l=1.5;if(t>=0&&t<=o&&a>=0&&a<=n){const e=t-l/2,s=a-l/2;this.chessPieces.push({number:this.chessPieces.length+1,color:this.chessPieceColor,style:{position:"absolute",left:`${e}px`,top:`${s}px`,width:`${l}rem`,height:`${l}rem`,transform:"translate(-50%, -50%)",color:1===this.chessPieceColor?"white":"black"}}),this.chessPieceColor=1===this.chessPieceColor?2:1}}}};const Wt=(0,E.Z)(Ot,[["render",zt],["__scopeId","data-v-8e94b5c2"]]);var $t=Wt;const St=(0,o.Uk)(" 棋局列表 "),Zt=["onClick"],Ht={class:"card-body"},qt={class:"row"},Vt={class:"username fw-blod"},At={class:"username fw-blod"},Ft={class:"follower-count"};function Rt(e,s,t,a,n,r){const c=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[St,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.users,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"card",key:e.id,onClick:s=>a.open_user_profile(e.id)},[(0,o._)("div",Ht,[(0,o._)("div",qt,[(0,o._)("div",Vt,"棋局时长："+(0,l.zw)(e.time),1),(0,o._)("div",At,"对手id："+(0,l.zw)(e.username),1),(0,o._)("div",Ft,"胜负:"+(0,l.zw)(e.win),1)])])],8,Zt)))),128))])),_:1})}var Gt={name:"ChessList",components:{ContentBase:pe},setup(){const e=(0,G.oR)();let s=(0,xe.iH)([]);De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/userlist/",type:"get",success(e){s.value=e}});const t=()=>{e.state.user.is_login?ma.push({name:"chess"}):ma.push({name:"login"})};return{users:s,open_user_profile:t}}};const Mt=(0,E.Z)(Gt,[["render",Rt],["__scopeId","data-v-0ef1b4a4"]]);var Et=Mt;const Nt=e=>((0,o.dD)("data-v-2021476c"),e=e(),(0,o.Cn)(),e),Lt={class:"row justify-content-md-center"},Kt={class:"col-3"},Yt={class:"mb-3"},Xt=Nt((()=>(0,o._)("label",{for:"username",class:"form-label"},"手机号",-1))),Jt={class:"mb-3"},Qt=Nt((()=>(0,o._)("label",{for:"password",class:"form-label"},"验证码",-1))),ea={class:"row"},sa={class:"col-7"},ta={class:"col-5"},aa={key:1,size:"mini",type:"button",class:"btn btn-light"},oa=Nt((()=>(0,o._)("div",{class:"card"},[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"使用手机号进行找回")],-1))),na=Nt((()=>(0,o._)("p",null,null,-1))),la=Nt((()=>(0,o._)("div",{class:"card"},[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"通知管理员进行找回")],-1)));function ra(e,s,t,n,r,c){const i=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(i,null,{default:(0,o.w5)((()=>[(0,o._)("div",Lt,[(0,o._)("div",Kt,[(0,o._)("div",Yt,[Xt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=s=>e.username=s),type:"text",class:"form-control",id:"username"},null,512),[[a.nr,e.username]])]),(0,o._)("div",Jt,[Qt,(0,o._)("div",ea,[(0,o._)("div",sa,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s),type:"password",class:"form-control",id:"password"},null,512),[[a.nr,e.password]])]),(0,o._)("div",ta,[e.$data.isSend?((0,o.wg)(),(0,o.iD)("button",{key:0,size:"mini",onClick:s[2]||(s[2]=(...e)=>c.send&&c.send(...e)),type:"button",class:"btn btn-light"},"发送验证码")):(0,o.kq)("",!0),e.$data.isSend?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",aa,(0,l.zw)(r.sendmsg),1))])])]),oa,na,la])])])),_:1})}var ca={name:"FindKeyView",components:{ContentBase:pe},data(){return{sendmsg:"重新发送验证码",isSend:!0,timeFun:null}},methods:{send(){this.isSend=!1;let e=60;this.sendmsg=e+"s",this.timeFun=setInterval((()=>{--e,this.sendmsg=e+"s",0===e&&(this.isSend=!0,this.sendmsg="重新发送",clearInterval(this.timeFun))}),1e3)}}};const ia=(0,E.Z)(ca,[["render",ra],["__scopeId","data-v-2021476c"]]);var ua=ia;const da=[{path:"/",name:"home",component:fe},{path:"/userList/",name:"userlist",component:Ie},{path:"/userprofile/:userId/",name:"userprofile",component:gs},{path:"/login/",name:"login",component:Zs},{path:"/register/",name:"register",component:at},{path:"/chess",name:"chess",component:$t},{path:"/chesslist",name:"chesslist",component:Et},{path:"/findkey",name:"findkey",component:ua},{path:"/404/",name:"404",component:Fs},{path:"/:catchAll(.*)",redirect:"/404/"}],pa=(0,J.p7)({history:(0,J.r5)(""),routes:da});var ma=pa,_a=t(1598);const fa={state:{id:"",username:"",photo:"",followerCount:0,access:"",refresh:"",is_login:!1},getters:{},mutations:{updateUser(e,s){e.id=s.id,e.username=s.username,e.photo=s.photo,e.followerCount=s.followerCount,e.access=s.access,e.refresh=s.fresh,e.is_login=s.is_login},updateAccess(e,s){e.access=s},logout(e){e.id="",e.username="",e.photo="",e.followerCount=0,e.access="",e.refresh="",e.is_login=!1}},actions:{login(e,s){De().ajax({url:"https://app165.acapp.acwing.com.cn/api/token/",type:"POST",data:{username:s.username,password:s.password},success(t){const{access:a,refresh:o}=t,n=(0,_a.Z)(a);setInterval((()=>{De().ajax({url:"https://app165.acapp.acwing.com.cn/api/token/refresh/",type:"POST",data:{refresh:o},success(s){e.commit("updateAccess",s.access)}})}),27e4),De().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/getinfo/",type:"GET",data:{user_id:n.user_id},headers:{Authorization:"Bearer "+a},success(t){e.commit("updateUser",{...t,access:a,refresh:o,is_login:!0}),s.success()}})},error(){s.error()}})}},modules:{}};var va=fa,wa=(0,G.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:va}});(0,a.ri)(X).use(wa).use(ma).mount("#app")}},s={};function t(a){var o=s[a];if(void 0!==o)return o.exports;var n=s[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(s,a,o,n){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],n=e[u][2];for(var r=!0,c=0;c<a.length;c++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](a[c])}))?a.splice(c--,1):(r=!1,n<l&&(l=n));if(r){e.splice(u--,1);var i=o();void 0!==i&&(s=i)}}return s}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,o,n]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p=""}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var o,n,l=a[0],r=a[1],c=a[2],i=0;if(l.some((function(s){return 0!==e[s]}))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(c)var u=c(t)}for(s&&s(a);i<l.length;i++)n=l[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},a=self["webpackChunkmyspace"]=self["webpackChunkmyspace"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(1126)}));a=t.O(a)})();
//# sourceMappingURL=app.e4a8ba47.js.map